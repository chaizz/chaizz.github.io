!function(i,o){var n="复制",t="复制成功",c="复制失败";function r(e,t){this.el=document.createElement("span"),this.el.innerText=n,this.el.setAttribute("class","copy-btn"),this.el.style.top=e+"px",this.el.style.right=t+"px"}r.prototype={getEl:function(){return this.el},changeStatus:function(e){this.el.innerText=t,e||(this.el.innerText=c,this.el.style.color="#dd524d"),this.reset(800)},reset:function(e){var t=this;setTimeout(function(){t.el.innerText=n,t.el.style.color=""},e)}};var s,l,a=i(".highlight");function h(e){return i(e).offset().top}function u(e){return i(l).width()-e.outerWidth(!0)-e.offset().left}a&&a.length&&(s=document.createDocumentFragment(),l=".content",o.addEventListener("load",function(){a.each(function(){var e=h(n=i(this))+10,t=u(n)+10,n=n.find(".code pre")[0];(t=(e=new r(e,t)).getEl()).addEventListener("click",function(e,t){try{var n=document.createRange();n.selectNode(e),o.getSelection().removeAllRanges(),o.getSelection().addRange(n),document.execCommand("copy"),o.getSelection().removeAllRanges(),t.changeStatus(1)}catch(e){t.changeStatus(0)}}.bind(this,n,e)),s.appendChild(t)}),i(l).append(s)}),o.addEventListener("resize",function(){var e=i(".copy-btn");e.length&&e.each(function(e){var e=h(t=i(a[e]))+10,t=u(t)+10;i(this).css({top:e,right:t})})}))}(jQuery,window);